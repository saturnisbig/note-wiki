# 免登录新浪爬虫-01 单博主微博及评论数据

2017-05-18 06:40:59 - 2017-05-18 07:28:49 
博文学习
一般爬虫爬取网站，首选都是m站，其次是wap站，最后考虑pc站，当然这并不绝对，
有时候，pc站信息最全，包括你需要的信息，只好去爬pc站。m站域名一般以m开头
接域名。

按照上面的规则，找到微博的入口，m.weibo.cn，发现要加上用户的id，所以真正的
入口应该是：m.weibo.cn/u/1713926427
要抓取微博的正文和评论，必须获取相应的请求信息，下面先查找微博列表请求，再
找某条微博下评论的请求。Let's go!

获取微博列表的请求：
url: 'https://m.weibo.cn/api/container/getIndex?uid=1713926427&luicode=10000011&lfid=1076031713926427&type=uid&value=1713926427&containerid=1076031713926427&page=2'
params:
uid: 1713926427
luicode: 10000011 # 具体指什么不了解
lfid: 1076031713926427 # 具体指什么不了解
type: uid
value: 1713926427
containerid: 1076031713926427
page: 2

获取某条微博评论的请求：
url: 'https://m.weibo.cn/api/comments/show?id=4070116385690289&page=1'
参数：
id: 4070116385690289
page: 1

2017-05-18 20:02:30 - 2017-05-18 21:02:38
至于m站中的uid，可以通过请求pc站点，获取页面中的oid，比如下面的页面：
pc-url: http://weibo.com/donye?refer_flag=1005050010_
入口页面：
url: 'https://m.weibo.cn/api/container/getIndex?type=uid&value=1613258127&containerid=1005051613258127'
value: 1613258127
container: 100505+value

2017-05-18 21:27:16 - 2017-05-18 22:10:34
使用urllib进行访问，但是无法获取到正确的数据。

2017-05-18 22:32:27 - 2017-05-18 23:02:28 
写抓取www.ip118.com代理ip

2017-05-19 06:31:19 - 2017-05-19 07:28:19
微博免登录抓取尝试，页面抓取到的还是有问题？
2017-05-19 22:40:02 - 2017-05-19 23:05:55
2017-05-19 23:15:55 - 2017-05-20 00:43:47 - 
添加cookie值到urllib2中，实现抓取。 Connection closed.
通过httplib2解决问题，或者Requests库

2017-05-20 09:25:51 - 2017-05-20 09:56:49
重写代码，能够获取到微博的json数据，下步添加代理ip和解析数据
解析数据待后面根据需要来
